# AI Ledger Specification v0.1

## Goals

- Make AI-assisted changes auditable without heavy process
- Prevent silent scope creep and unintended regressions
- Keep everything Git-native and tool-agnostic
- Enable optional CI enforcement

## Non-goals

- Not a blockchain
- Not a ticketing system
- Not a replacement for code review or tests

## Required Structure

.ai-ledger/
  contracts/
  entries/
  templates/
  config.json

## Contract

Location:
- .ai-ledger/contracts/

Filename:
- YYYY-MM-DD-{slug}.contract.yaml

Required fields:
- id
- title
- date (YYYY-MM-DD)
- author
- intent.summary
- intent.reason
- intent.risk_level (low | medium | high)
- scope.expected (array of globs or path prefixes)
- scope.forbidden (array of globs or path prefixes)
- links.entry (relative path to the entry file)

Optional but recommended fields:
- verification.expected_tests
- verification.manual_checks
- review.requires_human_approval
- links.pr
- links.issue

Contracts are append-only.

## Entry

Location:
- .ai-ledger/entries/

Filename:
- YYYY-MM-DD-{slug}.md

Required content:
- id, title, date
- reference to contract path
- actual changes summary
- list of files changed (best effort)
- scope drift (yes/no) and explanation
- verification performed (tests run, manual checks)
- approval (who approved, when) if required

Entries are append-only.

## Append-only Rule

Files inside:
- .ai-ledger/contracts/
- .ai-ledger/entries/

Must never be modified or deleted.

Amendments must be new files.

## Human approval policy

AI Ledger supports a policy knob:
- .ai-ledger/config.json: requireHumanApproval (boolean)

If requireHumanApproval is true, contracts should set:
- review.requires_human_approval: true

Tooling and CI may enforce this policy.

## Tooling

The spec is tool-agnostic.

Any tooling that:
- generates contract and entry files
- enforces append-only behavior
- validates scope boundaries
can be considered AI Ledger compliant.